<ul class="nav nav-tabs" id="faq-language">
    {% for language in languages %}
        <li class="{{ loop.first ? 'active' : '' }}"><a href="#store-info-tab-language{{ language.language_id }}" data-toggle="tab"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
    {% endfor %}
</ul>
<div class="tab-content">
    {% for language in languages %}

        <div class="tab-pane {{ loop.first ? 'active' : '' }}" id="store-info-tab-language{{ language.language_id }}">
            <fieldset>
                <legend>اطلاعات پایه</legend>
           

                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-name">{{ entry_name }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_name[{{'language_'~language.language_id}}]" value="{{ config_name['language_'~language.language_id] }}" placeholder="{{ entry_name }}" id="input-name" class="form-control" />
                        {% if error.name['language_'~language.language_id]  %}                                       
                            <div class="text-danger">{{  error.name['language_'~language.language_id] }}</div>
                        {% endif %} 
                    </div>
                </div>

                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-owner">{{ entry_owner }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_owner[{{'language_'~language.language_id}}]" value="{{ config_owner['language_'~language.language_id] }}" placeholder="{{ entry_owner }}" id="input-owner" class="form-control" />
                        {% if error.owner['language_'~language.language_id] %}
                            <div class="text-danger">{{ error.owner['language_'~language.language_id] }}</div>
                        {% endif %} 
                    </div>
                </div>

                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-company_name">{{ entry_company_name }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_company_name[{{'language_'~language.language_id}}]" 
                        value="{{ config_company_name['language_'~language.language_id] }}" placeholder="{{ entry_company_name }}" id="input-company_name" class="form-control">
                    </div>
                </div>

                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-meta-title">{{ entry_meta_title }}</label>
                    <div class="col-sm-10">
                    <input type="text" name="config_meta_title[{{'language_'~language.language_id}}]" 
                    value="{{ config_meta_title['language_'~language.language_id] }}" placeholder="{{ entry_meta_title }}" id="input-meta-title" class="form-control" />
                    {% if error.meta_title['language_'~language.language_id] %}
                    <div class="text-danger">{{ error.meta_title['language_'~language.language_id] }}</div>
                    {% endif %} </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-meta-description">{{ entry_meta_description }}</label>
                    <div class="col-sm-10">
                    <textarea name="config_meta_description[{{'language_'~language.language_id}}]" rows="5" placeholder="{{ entry_meta_description }}" id="input-meta-description" class="form-control">
                    {{ config_meta_description['language_'~language.language_id] }}</textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-meta-keyword">{{ entry_meta_keyword }}</label>
                    <div class="col-sm-10">
                    <textarea name="config_meta_keyword[{{'language_'~language.language_id}}]" rows="5" placeholder="{{ entry_meta_keyword }}" id="input-meta-keyword" class="form-control">
                    {{ config_meta_keyword['language_'~language.language_id] }}</textarea>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-alternate_site_name">{{ entry_alternate_site_name }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_alternate_site_name[{{'language_'~language.language_id}}]" 
                        value="{{ config_alternate_site_name['language_'~language.language_id] }}" placeholder="{{ entry_alternate_site_name }}" id="input-alternate_site_name" class="form-control" />
                    </div>
                </div>
                
                
                 

            </fieldset>

            <fieldset>
                <legend>آدرس</legend>

                
                <div class="form-group required">

                    <label class="col-sm-2 control-label" for="input-address">{{ entry_address }}</label>
                    <div class="col-sm-10">
                        <textarea name="config_address[{{'language_'~language.language_id}}]" placeholder="{{ entry_address }}" rows="5" id="input-address{{language.language_id}}" class="form-control">{{ config_address['language_'~language.language_id] }}</textarea>
                        {% if error.address['language_'~language.language_id] %}                                       
                            <div class="text-danger">{{ error.address['language_'~language.language_id] }}</div>
                        {% endif %} 
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-company_postal_code">{{ entry_company_postal_code }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_company_postal_code" value="{{ config_company_postal_code['language_'~language.language_id] }}" placeholder="{{ entry_company_postal_code }}" id="input-company_postal_code" class="form-control" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-company_geo_link">{{ entry_company_geo_link }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_company_geo_link" value="{{ config_company_geo_link['language_'~language.language_id] }}" placeholder="{{ entry_company_geo_link }}" id="input-company_geo_link" class="form-control" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-geocode"><span data-toggle="tooltip" data-container="#tab-general" title="{{ help_geocode }}">{{ entry_geocode }}</span></label>
                    <div class="col-sm-10">
                        <input type="text" name="config_geocode[{{'language_'~language.language_id}}]" value="{{ config_geocode['language_'~language.language_id] }}" placeholder="{{ entry_geocode }}" id="input-geocode" class="form-control" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-open"><span data-toggle="tooltip" data-container="#tab-general" title="{{ help_open }}">{{ entry_open }}</span></label>
                    <div class="col-sm-10">
                        <textarea name="config_open[{{'language_'~language.language_id}}]" rows="5" placeholder="{{ entry_open }}" id="input-open" class="form-control">{{ config_open['language_'~language.language_id] }}</textarea>
                    </div>
                </div>

                {% if locations %}
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span data-toggle="tooltip" data-container="#tab-general" title="{{ help_location }}">{{ entry_location }}</span></label>
                        <div class="col-sm-10"> {% for location in locations %}
                            <div class="checkbox">
                                <label> {% if location.location_id in config_location['language_'~language.language_id] %}
                                <input type="checkbox" name="config_location[{{'language_'~language.language_id}}][]" value="{{ location.location_id }}" checked="checked" />
                                {{ location.name }}
                                {% else %}
                                <input type="checkbox" name="config_location[{{'language_'~language.language_id}}][]" value="{{ location.location_id }}" />
                                {{ location.name }}
                                {% endif %} 
                                </label>
                            </div>
                        {% endfor %} </div>
                    </div>
                {% endif %}

            </fieldset>

            <fieldset>
                <legend>تماس</legend>
                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-email">{{ entry_email }}</label>
                    <div class="col-sm-10">
                    
                        <input type="text" name="config_email[{{'language_'~language.language_id}}]" value="{{ config_email['language_'~language.language_id] }}" placeholder="{{ entry_email }}" id="input-email" class="form-control" />

                    
                        {% if error.email['language_'~language.language_id] %}                                       
                            <div class="text-danger">{{ error.email['language_'~language.language_id] }}</div>

                        {% endif %}
                    </div>
                </div>

                <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-telephone">{{ entry_telephone }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_telephone[{{'language_'~language.language_id}}]" value="{{ config_telephone['language_'~language.language_id] }}" placeholder="{{ entry_telephone }}" id="input-telephone" class="form-control" />
                    
                        {% if error.telephone['language_'~language.language_id] %}
                            <div class="text-danger">{{ error.telephone['language_'~language.language_id] }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-fax">{{ entry_fax }}</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_fax[{{'language_'~language.language_id}}]" value="{{ config_fax['language_'~language.language_id] }}" placeholder="{{ entry_fax }}" id="input-fax" class="form-control" />
                    </div>
                </div>  

             </fieldset>

            {# <div class="form-group">
                <label class="col-sm-2 control-label" for="input-image">{{ entry_image }}</label>
                <div class="col-sm-10">
                    <a href="" id="thumb-image{{language.language_id}}" data-toggle="image" class="img-thumbnail"><img src="{{ thumb['language_'~language.language_id] }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                    <input type="hidden" name="config_image[{{'language_'~language.language_id}}]" value="{{ config_image['language_'~language.language_id] }}" id="input-image{{language.language_id}}" />
                </div>
            </div> #}

            <fieldset>
                <legend>توضیحات</legend>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-comment"><span data-toggle="tooltip" data-container="#tab-general" title="{{ help_comment }}">{{ entry_comment }}</span></label>
                    <div class="col-sm-10">
                    
                        <textarea name="config_comment[{{'language_'~language.language_id}}]" id="input-comment" data-toggle="summernote" data-lang="{{ summernote }}" class="form-control">{{ config_comment['language_'~language.language_id] ? config_comment['language_'~language.language_id] }}</textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-footer_description">{{ entry_footer_description }}</label>
                    <div class="col-sm-10">
                        <textarea name="config_footer_description[{{'language_'~language.language_id}}]" id="input-footer_description" data-toggle="summernote" data-lang="{{ summernote }}" class="form-control">{{ config_footer_description['language_'~language.language_id] ? config_footer_description['language_'~language.language_id] }}</textarea>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="input-copyright">کپی رایت فوتر</label>
                    <div class="col-sm-10">
                        <input type="text" name="config_copyright[{{'language_'~language.language_id}}]" 
                        value="{{ config_copyright['language_'~language.language_id] }}" placeholder="{{ entry_copyright }}" id="input-copyright" class="form-control" />
                    </div>
                </div>

            </fieldset>

           
           
            <fieldset>
                <legend>شبکه‌های اجتماعی</legend>
                <table id="socials{{language.language_id}}" class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <td class="text-right">{{ entry_image }}</td>
                            <td class="text-left required">{{ entry_socialname }}</td>
                            <td class="text-left">{{ entry_social_title }}</td>
                            <td class="text-left">لینک</td>
                            <td class="text-left">{{ entry_opration }}</td>
                        </tr>
                    </thead>
                    <tbody class="socials_{{language.language_id}}">
                        {% set social_row = 0 %}
                            {% for social in config_social['language_' ~ language.language_id] %}
                                <tr id="social-row{{language.language_id}}{{ social_row }}">
                                    <td class="text-left">
                                        <a href="" id="thumb-image-social{{language.language_id}}{{ social_row }}" 
                                            data-toggle="image" data-icon="1" class="img-thumbnail">
                                            <img src="{{ social.image_url }}" alt="" title="" data-placeholder="{{ placeholder }}"/>
                                            
                                            <div class="thumb_icon">
                                                {% if social.icon %}
                                                  {{ load_icon_admin(social.icon)}}
                                                {% endif %}
                                            </div>
                                        </a> 
                                        <input 
                                            type="hidden" 
                                            name="config_social[{{'language_' ~ language.language_id}}][{{social_row}}][image]" 
                                            value="{{ social.image }}" id="input-image-social{{language.language_id}}{{ social_row }}"/>
                                    </td>
                                    <td class="text-right">
                                        <input type="text"
                                        name="config_social[{{'language_' ~ language.language_id}}][{{social_row}}][name]" 
                                        value="{{ social.name }}"  class="form-control" />
                                        {% if error.social_name %}
                                            <p class="text-danger">{{ error.social_name[social_row] }}</p>
                                        {% endif %}
                                    </td>
                                    <td class="text-right">
                                        <input type="text" name="config_social[{{'language_' ~ language.language_id}}][{{social_row}}][title]" value="{{ social.title }}"  class="form-control" /></td>
                                    <td class="text-right">
                                    <input type="text" 
                                    name="config_social[{{'language_' ~ language.language_id}}][{{social_row}}][link]" 
                                    value="{{ social.link }}"  class="form-control" />
                                    </td>
                                    <td class="text-right"><button type="button" onclick="$('#social-row{{language.language_id}}{{ social_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                                </tr>
                            {% set social_row = social_row + 1 %}
                        {% endfor %}
                    </tbody>   

                    <tfoot>
                        <tr>
                            <td colspan="4"></td>
                            <td class="text-right"><button type="button" onclick="addSocialRow({{language.language_id}});" data-toggle="tooltip" title="{{ button_filter_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                        </tr>
                    </tfoot>
                </table>
            </fieldset>
            
            <fieldset>
                <legend>اپلیکیشن های فروشگاه</legend>
                <table id="applications{{language.language_id}}" class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <td class="text-right">{{ entry_image }}</td>
                            <td class="text-left required">{{ entry_socialname }}</td>
                            <td class="text-left">{{ entry_social_title }}</td>
                            <td class="text-left">لینک</td>
                            <td class="text-left">{{ entry_opration }}</td>
                        </tr>
                    </thead>
                    <tbody class="applications_{{language.language_id}}">
                        {% set application_row = 0 %}
                            {% for application in config_application['language_' ~ language.language_id] %}
                                <tr id="application-row{{language.language_id}}{{ application_row }}">
                                    <td class="text-left">
                                        <a href="" id="thumb-image-application{{language.language_id}}{{ application_row }}" 
                                        data-toggle="image" class="img-thumbnail">
                                            <img src="{{ application.image_url }}" alt="" title="" data-placeholder="{{ placeholder }}"/>
                                             <div class="thumb_icon">
                                                {% if application.icon %}
                                                  {{ load_icon_admin(application.icon)}}
                                                {% endif %}
                                            </div>
                                        </a> 
                                        <input type="hidden" 
                                        name="config_application[{{'language_' ~ language.language_id}}][{{application_row}}][image]" 
                                        value="{{ application.image }}" id="input-image-application{{language.language_id}}{{ application_row }}"/>
                                    </td>
                                    <td class="text-right ">
                                        <input type="text" name="config_application[{{'language_' ~ language.language_id}}][{{application_row}}][name]" 
                                        value="{{ application.name }}"  class="form-control" />
                                        {% if error.application_name['language_' ~ language.language_id] %}
                                            <p class="text-danger">{{ error.application_name[application_row] }}</p>
                                        {% endif %}
                                    </td>
                                    <td class="text-right "><input type="text" name="config_application[{{'language_' ~ language.language_id}}][{{application_row}}][title]" value="{{ application.title }}"  class="form-control" /></td>
                                    <td class="text-right ">
                                        <input type="text" 
                                        name="config_application[{{'language_' ~ language.language_id}}][{{application_row}}][link]" 
                                        value="{{ application.link }}"  class="form-control" />
                                    </td>
                                    <td class="text-right">
                                        <button type="button" 
                                            onclick="$('#application-row{{language.language_id}}{{ application_row }}').remove();" 
                                            data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i>
                                        </button>
                                    </td>
                                </tr>
                            {% set application_row = application_row + 1 %}
                        {% endfor %}
                    </tbody>   

                    <tfoot>
                        <tr>
                            <td colspan="4"></td>
                            <td class="text-right"><button type="button" onclick="addApplicationRow({{language.language_id}});" data-toggle="tooltip" title="{{ button_filter_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                        </tr>
                    </tfoot>
                </table>
            </fieldset>

        </div>


    {% endfor %}
</div>


<script type="text/javascript">

 
    function addSocialRow(lang_id) {
           var social_row = $(`.socials_${lang_id} tr`).length;
           let  html = `
            <tr id="social-row${lang_id}${social_row}">
                    <td class="text-left">
                        <a href="" id="thumb-image-social${lang_id}${social_row}" 
                            data-toggle="image" data-icon="1" class="img-thumbnail">
                            <img src="" alt="" title="" data-placeholder="{{ placeholder }}"/>
                            
                            <div class="thumb_icon">
                               
                            </div>
                        </a> 
                        
                        <input type="hidden" 
                        name="config_social[language_${lang_id}][${social_row}][image]" 
                        id="input-image-social${lang_id}${social_row}"/>
                        
                        
                    </td>
                    <td class="text-right ">
                        <input type="text" name="config_social[language_${lang_id}][${social_row}][name]" 
                        value=""  class="form-control" />
                        
                    </td>
                    <td class="text-right "><input type="text" name="config_social[language_${lang_id}][${social_row}][title]"  class="form-control" /></td>
                    <td class="text-right "><input type="text" name="config_social[language_${lang_id}][${social_row}][link]"  class="form-control" /></td>

                    <td class="text-right"><button type="button" onclick="$('#social-row${lang_id}${social_row}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                </tr>
           
            `;
        $(`.socials_${lang_id}`).append(html);

    }

    function addApplicationRow(lang_id) {
          var application_row = $(`.applications_${lang_id} tr`).length;
          let  html = `
            <tr id="application-row${lang_id}${application_row}">
                    <td class="text-left">
                        <a href="" id="thumb-image-application${lang_id}${application_row}" 
                        data-toggle="image" data-icon="1"  class="img-thumbnail">
                            <img src="" alt="" title="" data-placeholder="{{ placeholder }}"/>
                            
                            <div class="thumb_icon">
                               
                            </div>
                        </a> 
                         
  
                        <input type="hidden" 
                        name="config_application[language_${lang_id}][${application_row}][image]" 
                        id="input-image-application${lang_id}${application_row}"/>
                    </td>
                    <td class="text-right ">
                        <input type="text" name="config_application[language_${lang_id}][${application_row}][name]" 
                        value=""  class="form-control" />
                        
                    </td>
                    <td class="text-right "><input type="text" name="config_application[language_${lang_id}][${application_row}][title]"  class="form-control" /></td>
                    <td class="text-right "><input type="text" name="config_application[language_${lang_id}][${application_row}][link]"  class="form-control" /></td>

                    <td class="text-right"><button type="button" onclick="$('#application-row${lang_id}${application_row}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                </tr>
           
            `;
        $(`.applications_${lang_id}`).append(html);

    }

</script>